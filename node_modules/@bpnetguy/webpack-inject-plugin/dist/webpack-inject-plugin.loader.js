"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var main_1 = require("./main");
var injectLoader = function (source) {
    var options = this.getOptions();
    var func = function (arg) { return ''; };
    if (main_1.registry[options.id]) {
        func = main_1.registry[options.id];
    }
    var rtn = func.call(this, source);
    if (rtn instanceof Promise) {
        var callback_1 = this.async();
        rtn
            .then(function (result) {
            callback_1 && callback_1(null, result);
        })
            .catch(function (err) {
            callback_1 && callback_1(err, undefined);
        });
        return undefined;
    }
    return rtn;
};
exports.default = injectLoader;
//# sourceMappingURL=webpack-inject-plugin.loader.js.map